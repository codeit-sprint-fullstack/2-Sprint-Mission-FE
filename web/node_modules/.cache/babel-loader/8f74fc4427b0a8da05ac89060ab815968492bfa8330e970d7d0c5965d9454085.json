{"ast":null,"code":"var _jsxFileName = \"/Users/godiswithyou/Downloads/FS-PandaMarket-Template-10-main 2/web/src/pages/AddItemPage/AddItemPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Container, FlexContainer, SectionTitle } from \"../../styles/CommonStyles\";\nimport styled from \"styled-components\";\nimport InputItem from \"../../components/UI/InputItem\";\nimport TagInput from \"../../components/UI/TagInput\";\nimport { addProduct } from \"../../api/products\";\nimport TextareaItem from \"../../components/UI/TextareaItem\";\nimport Button from \"../../components/UI/Button\";\nimport ImageUpload from \"../../components/UI/ImageUpload\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TitleSection = styled(FlexContainer)`\n  margin-bottom: 16px;\n`;\n_c = TitleSection;\nconst InputSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  @media ${({\n  theme\n}) => theme.mediaQuery.tablet} {\n    gap: 24px;\n  }\n`;\n_c2 = InputSection;\nfunction AddItemPage() {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [images, setImages] = useState([]);\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n\n  // 유효성 검사 함수: 각각의 입력 필드에 대해 개별 유효성 검사를 수행\n  const validateName = value => {\n    if (value.length < 2 || value.length > 10) {\n      setErrors(prev => ({\n        ...prev,\n        name: \"2자 이상 10자 이내로 입력해주세요\"\n      }));\n    } else {\n      setErrors(prev => ({\n        ...prev,\n        name: undefined\n      }));\n    }\n  };\n  const validateDescription = value => {\n    if (value.length < 10) {\n      setErrors(prev => ({\n        ...prev,\n        description: \"10자 이상 입력해주세요.\"\n      }));\n    } else {\n      setErrors(prev => ({\n        ...prev,\n        description: undefined\n      }));\n    }\n  };\n  const validatePrice = value => {\n    if (!/^\\d+$/.test(value)) {\n      setErrors(prev => ({\n        ...prev,\n        price: \"숫자로 입력해주세요.\"\n      }));\n    } else {\n      setErrors(prev => ({\n        ...prev,\n        price: undefined\n      }));\n    }\n  };\n\n  // 상품 등록 API 호출 핸들러\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (Object.keys(errors).some(key => errors[key])) {\n      return;\n    }\n    const productData = {\n      name,\n      description,\n      price: Number(price),\n      // 숫자형으로 변환\n      tags,\n      images\n    };\n    try {\n      const result = await addProduct(productData); // API 호출\n      navigate(`/items/${result.id}`);\n    } catch (error) {\n      console.error(\"상품 등록 실패:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TitleSection, {\n        children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n          children: \"\\uC0C1\\uD488 \\uB4F1\\uB85D\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: !name || !description || !price || !tags.length,\n          children: \"\\uB4F1\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputSection, {\n        children: [/*#__PURE__*/_jsxDEV(ImageUpload, {\n          id: \"images\",\n          label: \"\\uC0C1\\uD488 \\uC774\\uBBF8\\uC9C0\",\n          value: images,\n          onChange: setImages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputItem, {\n          id: \"name\",\n          label: \"\\uC0C1\\uD488\\uBA85\",\n          value: name,\n          onChange: e => {\n            setName(e.target.value);\n            validateName(e.target.value);\n          },\n          placeholder: \"\\uC0C1\\uD488\\uBA85\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",\n          error: errors.name // 에러 메시지 전달\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextareaItem, {\n          id: \"description\",\n          label: \"\\uC0C1\\uD488 \\uC18C\\uAC1C\",\n          value: description,\n          onChange: e => {\n            setDescription(e.target.value);\n            validateDescription(e.target.value);\n          },\n          placeholder: \"\\uC0C1\\uD488 \\uC18C\\uAC1C\\uB97C \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",\n          error: errors.description // 에러 메시지 전달\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputItem, {\n          id: \"price\",\n          label: \"\\uD310\\uB9E4 \\uAC00\\uACA9\",\n          value: price,\n          onChange: e => {\n            setPrice(e.target.value);\n            validatePrice(e.target.value);\n          },\n          placeholder: \"\\uD310\\uB9E4 \\uAC00\\uACA9\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694\",\n          error: errors.price // 에러 메시지 전달\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TagInput, {\n          value: tags,\n          onChange: setTags\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(AddItemPage, \"FTgX298txCFdrIFQpDf/XQUR+wI=\", false, function () {\n  return [useNavigate];\n});\n_c3 = AddItemPage;\nexport default AddItemPage;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"TitleSection\");\n$RefreshReg$(_c2, \"InputSection\");\n$RefreshReg$(_c3, \"AddItemPage\");","map":{"version":3,"names":["React","useState","useNavigate","Container","FlexContainer","SectionTitle","styled","InputItem","TagInput","addProduct","TextareaItem","Button","ImageUpload","jsxDEV","_jsxDEV","TitleSection","_c","InputSection","div","theme","mediaQuery","tablet","_c2","AddItemPage","_s","name","setName","description","setDescription","price","setPrice","tags","setTags","images","setImages","errors","setErrors","navigate","validateName","value","length","prev","undefined","validateDescription","validatePrice","test","handleSubmit","e","preventDefault","Object","keys","some","key","productData","Number","result","id","error","console","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","disabled","label","onChange","target","placeholder","_c3","$RefreshReg$"],"sources":["/Users/godiswithyou/Downloads/FS-PandaMarket-Template-10-main 2/web/src/pages/AddItemPage/AddItemPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Container,\n  FlexContainer,\n  SectionTitle,\n} from \"../../styles/CommonStyles\";\nimport styled from \"styled-components\";\nimport InputItem from \"../../components/UI/InputItem\";\nimport TagInput from \"../../components/UI/TagInput\";\nimport { addProduct } from \"../../api/products\";\nimport TextareaItem from \"../../components/UI/TextareaItem\";\nimport Button from \"../../components/UI/Button\";\nimport ImageUpload from \"../../components/UI/ImageUpload\";\n\nconst TitleSection = styled(FlexContainer)`\n  margin-bottom: 16px;\n`;\n\nconst InputSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  @media ${({ theme }) => theme.mediaQuery.tablet} {\n    gap: 24px;\n  }\n`;\n\nfunction AddItemPage() {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [images, setImages] = useState([]);\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n\n  // 유효성 검사 함수: 각각의 입력 필드에 대해 개별 유효성 검사를 수행\n  const validateName = (value) => {\n    if (value.length < 2 || value.length > 10) {\n      setErrors((prev) => ({\n        ...prev,\n        name: \"2자 이상 10자 이내로 입력해주세요\",\n      }));\n    } else {\n      setErrors((prev) => ({ ...prev, name: undefined }));\n    }\n  };\n\n  const validateDescription = (value) => {\n    if (value.length < 10) {\n      setErrors((prev) => ({\n        ...prev,\n        description: \"10자 이상 입력해주세요.\",\n      }));\n    } else {\n      setErrors((prev) => ({ ...prev, description: undefined }));\n    }\n  };\n\n  const validatePrice = (value) => {\n    if (!/^\\d+$/.test(value)) {\n      setErrors((prev) => ({ ...prev, price: \"숫자로 입력해주세요.\" }));\n    } else {\n      setErrors((prev) => ({ ...prev, price: undefined }));\n    }\n  };\n\n  // 상품 등록 API 호출 핸들러\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (Object.keys(errors).some((key) => errors[key])) {\n      return;\n    }\n\n    const productData = {\n      name,\n      description,\n      price: Number(price), // 숫자형으로 변환\n      tags,\n      images,\n    };\n\n    try {\n      const result = await addProduct(productData); // API 호출\n      navigate(`/items/${result.id}`);\n    } catch (error) {\n      console.error(\"상품 등록 실패:\", error);\n    }\n  };\n\n  return (\n    <Container>\n      <form onSubmit={handleSubmit}>\n        <TitleSection>\n          <SectionTitle>상품 등록하기</SectionTitle>\n          <Button\n            type=\"submit\"\n            disabled={!name || !description || !price || !tags.length}\n          >\n            등록\n          </Button>\n        </TitleSection>\n\n        <InputSection>\n          {/* useState를 사용해서 이미지 업로드 인풋을 활용하는 예시입니다. */}\n          <ImageUpload\n            id=\"images\"\n            label=\"상품 이미지\"\n            value={images}\n            onChange={setImages}\n          />\n          <InputItem\n            id=\"name\"\n            label=\"상품명\"\n            value={name}\n            onChange={(e) => {\n              setName(e.target.value);\n              validateName(e.target.value);\n            }}\n            placeholder=\"상품명을 입력해 주세요\"\n            error={errors.name} // 에러 메시지 전달\n          />\n\n          <TextareaItem\n            id=\"description\"\n            label=\"상품 소개\"\n            value={description}\n            onChange={(e) => {\n              setDescription(e.target.value);\n              validateDescription(e.target.value);\n            }}\n            placeholder=\"상품 소개를 입력해 주세요\"\n            error={errors.description} // 에러 메시지 전달\n          />\n\n          <InputItem\n            id=\"price\"\n            label=\"판매 가격\"\n            value={price}\n            onChange={(e) => {\n              setPrice(e.target.value);\n              validatePrice(e.target.value);\n            }}\n            placeholder=\"판매 가격을 입력해 주세요\"\n            error={errors.price} // 에러 메시지 전달\n          />\n\n          <TagInput value={tags} onChange={setTags} />\n        </InputSection>\n      </form>\n    </Container>\n  );\n}\n\nexport default AddItemPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}